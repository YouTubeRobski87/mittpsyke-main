<header class="site-header">
  <div class="header-inner container">

    <!-- Logotyp / titel -->
    <div class="site-brand">
      <a href="/" class="site-logo">
        Mitt<span>Psyke</span>
      </a>
    </div>

    <!-- Navigation -->
    <nav class="main-nav" aria-label="Huvudnavigation">
  <ul class="nav-list">
    <li>
      <a href="/"
         class="nav-link{% if page.url == '/' %} is-active{% endif %}">
        Hem
      </a>
    </li>

    <li>
      <a href="/a/"
         class="nav-link{% if page.url and page.url.startsWith('/a/') %} is-active{% endif %}">
        Ångest (A)
      </a>
    </li>

    <li>
      <a href="/b/"
         class="nav-link{% if page.url and page.url.startsWith('/b/') %} is-active{% endif %}">
        Depression (B)
      </a>
    </li>

    <li>
      <a href="/e/"
         class="nav-link{% if page.url and page.url.startsWith('/e/') %} is-active{% endif %}">
        Trauma (E)
      </a>
    </li>

    <li>
      <a href="/ai/"
         class="nav-link nav-cta{% if page.url and page.url.startsWith('/ai/') %} is-active{% endif %}">
        AI-stöd
      </a>
    </li>
    <li class="nav-auth">
      <a href="/login/"
         class="nav-link auth-login"
         style="opacity: 0.8; font-weight: 500;">
        Logga in
      </a>
      <a href="#"
         class="nav-link auth-logout"
         style="display: none; opacity: 0.8; font-weight: 500;">
        Logga ut
      </a>
      <span class="auth-status" style="display: none; font-size: 0.9rem; color: var(--muted);">Du är inloggad</span>
    </li>
  </ul>
</nav>


    <!-- Mobilmeny-knapp (om du redan har stöd i CSS/JS) -->
  <button class="nav-toggle" aria-label="öppna meny">
    ?
  </button>

  </div>
</header>

<script>
  (function () {
    var isLoggedIn = localStorage.getItem('mp-logged-in') === 'true';
    var loginLink = document.querySelector('.auth-login');
    var logoutLink = document.querySelector('.auth-logout');
    var statusEl = document.querySelector('.auth-status');

    function renderAuth() {
      if (isLoggedIn) {
        if (loginLink) loginLink.style.display = 'none';
        if (logoutLink) logoutLink.style.display = '';
        if (statusEl) statusEl.style.display = '';
      } else {
        if (loginLink) loginLink.style.display = '';
        if (logoutLink) logoutLink.style.display = 'none';
        if (statusEl) statusEl.style.display = 'none';
      }
    }

    renderAuth();

    if (logoutLink) {
      logoutLink.addEventListener('click', function (e) {
        e.preventDefault();
        localStorage.removeItem('mp-logged-in');
        isLoggedIn = false;
        renderAuth();
        window.location.href = '/';
      });
    }
  })();
</script>
